@model PeopLost.Web.Models.ListAlertViewModel

@{
    ViewBag.Title = "List";
}

<div class="container">
    <div class="col-lg-12">
        <div class="panel panel-primary">
            <h2 class="panel panel-heading">Liste des alertes<span class="glyphicon glyphicon-option-vertical"></span></h2>


            <div id="panelpl" class="panel panel-body">
                <div class="col-md-offset-8">
                    @using (Ajax.BeginForm("List", "Alert", new AjaxOptions() { HttpMethod = "Get", InsertionMode = InsertionMode.Replace }))
                    {
                        <span>
                            <input type="search" placeholder="Tape the name here" name="personname" id="personname" />
                            <input type="submit" id="btsearch" class="btn btn-primary" value="search" /> @Html.ActionLink(" ", "List", null, new { @class = "glyphicon glyphicon-refresh" })
                        </span>
                    }
                </div>
                @foreach (var item in Model.Items)
                {
                    <div>
                        @Html.Partial("_Person", item)
                    </div>
                }
                <div class="pager">
                    Page @Model.Items.Count
                </div>
            </div>
        </div>
    </div>
    
</div>
@Scripts.Render("~/dist/js")

@* CHANGE WITH URI *@
@*<script type="text/javascript">
    
            $.ajax({
                type: 'GET',
                url: 'http://localhost:54978/api/alert',
                headers: {
                    "Content-Type": "application/json;charset=utf-8"
                },
                success: function (data) {
                    var result = JSON.parse(data);
                    console.log(result);
             
                    $('#panelpl').html(html);
                },
                error: function (ex) {
                    console.log(ex);

                }
            });

      
    </script>*@